flowchart TD
    A["Set floor to first floor in queued floors"]
    B["Is there another floor in queued floors not yet gone through?"]
    L["Select next floor from queued floors"]
    C["Is the floor selected from queued floors greater than the current floor?"]
    D["Set checkup to true"]
    E["Is the floor selected from queued floors less than the current floor?"]
    F["Set checkdown to true"]
    G["Is checkup false and checkdown false?"]
    H["Return stop"]
    I["Is checkdown false?"]
    J["Return down"]
    K["Return up"]
    M["Is checkup false?"]
    N["Is the furtherst floor up shorter than the furthest floor down?"]
    A --> B
    B -->|yes| L
    L --> C
    C -->|yes| D
    C -->|no| E
    E -->|yes| F
    D --> G
    E -->|no| G
    F --> G
    G -->|yes| H
    G -->|no| I
    I -->|yes| K
    I -->|no| M
    M -->|yes| J
    M -->|no| N
    N -->|yes| K
    N -->|no| J